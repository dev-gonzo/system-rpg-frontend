.input-group {
  .form-control {
    border-color: var(--color-border);
    border-top-left-radius: 0.375rem !important;
    border-bottom-left-radius: 0.375rem !important;
    
    &:focus {
      border-color: var(--color-primary-light);
      box-shadow: none !important;
      border-right: 0;
      outline: 0;
    }
    
    &.is-invalid {
      border-color: var(--color-error) !important;
      
      &:focus {
        border-color: var(--color-error) !important;
        box-shadow: 0 0 0 0.1rem color-mix(in srgb, var(--color-error) 25%, transparent) !important;
        border-right: 0;
      }
    }
  }
  
  .btn {
    border-color: var(--color-border);
    border-left: 0;
    border-top-right-radius: 0.375rem !important;
    border-bottom-right-radius: 0.375rem !important;
    
    &:focus {
      box-shadow: none !important;
      outline: 0;
    }
    
    &.btn-outline-secondary {
      border-color: var(--color-border);
      background-color: transparent !important;
      color: var(--color-surface-contrast) !important;
      
      i {
        color: var(--color-secondary);
      }
      
      &:hover {
        background-color: transparent !important;
        border-color: var(--color-border);
      }
      
      &:focus {
        box-shadow: none !important;
        outline: 0;
      }
      
      &:disabled {
        background-color: transparent;
        border-color: var(--color-border);
        opacity: 0.65;
        
        i {
          color: var(--color-surface-contrast);
        }
      }
    }
  }
  
  &:focus-within:not(:has(.form-control.is-invalid)) {
    box-shadow: 0 0 0 0.1rem color-mix(in srgb, var(--color-primary) 15%, transparent) !important;
    border-radius: 0.375rem;
    
    .form-control {
      border-color: var(--color-primary-light) !important;
      box-shadow: none !important;
      outline: 0;
    }
    
    .btn {
      border-color: var(--color-primary-light) !important;
      box-shadow: none !important;
      outline: 0;
    }
  }
  
  &:has(.form-control.is-invalid) {
    .btn {
      border-color: var(--color-error) !important;
    }
  }
  
  .form-control:not(:last-child) {
    border-top-right-radius: 0;
    border-bottom-right-radius: 0;
  }
  
  .btn:not(:first-child) {
    border-top-left-radius: 0;
    border-bottom-left-radius: 0;
  }
}